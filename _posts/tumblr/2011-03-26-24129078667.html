---
layout: post
title: Memcachedb安装使用
---

<p><a href="http://www.danga.com/memcached/" target="_blank">Memcached</a> 想必大家都知道,是一个缓存服务器,数据直接存在内存中，如果重启memcached进程或者重启服务器，数据就都消失了。</p>

<p><a href="http://memcachedb.org/" target="_blank">Memcachedb</a>是一个Memcached的改进版,Memcachedb把数据存在<a href="http://www.oracle.com/database/berkeley-db/db/index.html" target="_blank">berkeley-db</a>中，这样就可以使数据持久化，应用在其他的领域，<a href="http://stvchu.org/" target="_blank">开发者</a>来自sina。</p>

<h2>一. 安装</h2>

<p>===================<br/>1.Berkeley DB 4.7 or later<br/>===================</p>

<pre>wget <a href="http://download.oracle.com/berkeley-db/db-4.7.25.tar.gz" target="_blank">http://download.oracle.com/berkeley-db/db-4.7.25.tar.gz</a>

tar -xvzf db-4.7.25.tar.gz

cd db-4.7.25/

cd build_unix/

../dist/configure 或者--prefix=你的路径

make

sudo make install

</pre>

<p>===========================<br/>2.libevent 1.3e or later（最好用1.3e）<br/>===========================</p>

<pre>wget <a href="http://monkey.org/~provos/libevent-1.3e.tar.gz" target="_blank">http://monkey.org/~provos/libevent-1.3e.tar.gz</a>

tar -xvzf libevent-1.3e.tar.gz

cd libevent-1.3e

./configure 或者--prefix=你要安装的路径

make

sudo make install

</pre>

<p>修改/etc/ld.so.conf文件，添加下面两行:</p>

<pre>/usr/local/lib #这是注释 这个路径是libevent的路径

/usr/local/BerkeleyDB.4.7/lib

</pre>

<p>然后执行ldconfig</p>

<p>============<br/>3.Installation<br/>============</p>

<pre>tar xvzf memcachedb-X.Y.Z.tar.gz

cd memcachedb-X.Y.Z

./configure --enable-threads #-h有很多帮助

make

sudo make install

</pre>

<h2>二.使用</h2>

<pre>/usr/local/memcachedb/bin/memcachedb -p 21201 -d -r -u root -f /data1/21201.db -H /data1/demo -N -P /data1 /logs/21201.pid

</pre>

<p>参考：http://memcachedb.googlecode.com/svn/trunk/INSTALL</p>
